
    /* Reset y variables */
    :root{
        --rojo-oscuro:#8B0000;
        --verde-bosque:#0B3D2E;
        --dorado:#C5A14E;
        --blanco-calido:#FAF9F6;
        --fondo-grad-1:#0f1724;
        --fondo-grad-2:#10142a;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
        font-family:'Poppins',sans-serif;
        background: radial-gradient(circle at 10% 10%, rgba(197,161,78,0.06), transparent 10%),
                    linear-gradient(135deg,var(--fondo-grad-1),var(--fondo-grad-2));
        -webkit-font-smoothing:antialiased;
        display:flex;
        justify-content:center;
        align-items:center;
        padding:24px;
        overflow:hidden;
    }

    /* Contenedor principal */
    .stage{
        width:100%;
        max-width:1300px;
        position:relative;
        margin:0 auto;
    }

    /* Flipbook con perspectiva para simular catálogo físico */
    #flipbook{
        width:100%;
        height:640px;
        margin:0 auto;
        position:relative;
        perspective:2200px;
        perspective-origin: 50% 50%;
        border-radius:18px;
        overflow:visible;
        -webkit-tap-highlight-color:transparent;
        transform-style: preserve-3d;
    }

    /* Sombra central del lomo del libro */
    #flipbook::before {
        content: "";
        position: absolute;
        left: 50%;
        top: 0;
        width: 40px;
        height: 100%;
        transform: translateX(-50%);
        background: linear-gradient(
            to right,
            transparent 0%,
            rgba(0,0,0,0.15) 20%,
            rgba(0,0,0,0.25) 50%,
            rgba(0,0,0,0.15) 80%,
            transparent 100%
        );
        pointer-events: none;
        z-index: 100;
        border-radius: 18px;
        opacity: 0.6;
    }

    /* Configuración de páginas turn.js */
    #flipbook .turn-page {
        transform-style: preserve-3d;
        backface-visibility: hidden;
    }

    /* Sombra dinámica durante el volteo */
    #flipbook .turn-page-wrapper {
        transform-style: preserve-3d;
    }

    /* Cada página */
    .page{
        width:100%;
        height:100%;
        background:var(--blanco-calido);
        border-radius:8px;
        overflow:hidden;
        position:relative;
        display:flex;
        align-items:center;
        justify-content:center;
        padding:36px;
        box-shadow: 0 18px 60px rgba(2,6,23,0.6);
        transform-style:preserve-3d;
        backface-visibility: hidden;
    }

    /* Textura sutil de papel */
    .page::before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: 
            radial-gradient(circle at 20% 30%, rgba(0,0,0,0.01) 1px, transparent 1px),
            radial-gradient(circle at 60% 70%, rgba(0,0,0,0.01) 1px, transparent 1px);
        background-size: 3px 3px, 4px 4px;
        pointer-events: none;
        opacity: 0.5;
        z-index: 1;
    }

    /* Estética página: rejilla sutil */
    .page::after{
        content:"";
        position:absolute;
        inset:0;
        background-image:
            linear-gradient(90deg, rgba(0,0,0,0.02) 1px, transparent 1px),
            linear-gradient(rgba(0,0,0,0.02) 1px, transparent 1px);
        background-size:24px 24px;
        pointer-events:none;
        mix-blend-mode:multiply;
        opacity:0.35;
        z-index: 2;
    }

    /* Portada navideña */
    .portada{
        background:linear-gradient(135deg,var(--rojo-oscuro),var(--dorado));
        color:white;
        flex-direction:column;
        text-align:center;
        overflow:visible;
    }
    .portada-content{
        position:relative;
        z-index:2;
        max-width:720px;
    }
    .portada h1{
        font-family:'Playfair Display',serif;
        font-size:3.2rem;
        letter-spacing:1px;
        margin-bottom:10px;
        text-shadow: 0 8px 28px rgba(0,0,0,0.35);
    }
    .portada h2{
        font-size:1.25rem;
        font-weight:300;
        letter-spacing:4px;
        margin-bottom:18px;
    }
    .portada-decor{
        width:260px;height:3px;background:rgba(255,255,255,0.18);
        margin:10px auto;border-radius:2px;position:relative;
    }

    /* Brillo bokeh y chispas sobre la portada (decorativo) */
    .portada .sparkles{
        position:absolute;inset:0;pointer-events:none;z-index:1;
    }
    .sparkle{
        position:absolute;width:6px;height:6px;border-radius:50%;
        background:rgba(255,255,255,0.9);filter:blur(2px);
        opacity:0;transform:scale(0.6);
    }

    /* Container de productos (grid flexible) */
    .productos-container{
        display:grid;
        grid-template-columns:1fr 1fr;
        gap:28px;
        width:100%;
        height:100%;
        position: relative;
        z-index: 3;
    }

    .producto-card{
        background:linear-gradient(180deg,#fff,#fff);
        border-radius:14px;
        overflow:hidden;
        display:flex;
        flex-direction:column;
        transition:transform .45s cubic-bezier(.2,.9,.2,1),box-shadow .45s;
        box-shadow:0 8px 30px rgba(2,6,23,0.08);
        cursor:pointer;
    }
    .producto-card:hover{
        transform:translateY(-8px) rotateZ(-0.6deg);
        box-shadow:0 20px 50px rgba(2,6,23,0.16);
    }
    .producto-imagen{
        width:100%;
        height:240px;
        object-fit:cover;
        display:block;
        transition:transform .6s cubic-bezier(.2,.9,.2,1);
        will-change:transform;
    }
    .producto-card:hover .producto-imagen{ transform:scale(1.06) rotateZ(-0.8deg); }

    .producto-info{ padding:18px; display:flex;flex-direction:column; gap:10px; flex:1 }
    .producto-titulo{
        font-family:'Playfair Display',serif;
        color:var(--rojo-oscuro);
        font-weight:700;
        font-size:1.08rem;
        line-height:1.2;
    }
    .producto-descripcion{ color:#6a6a6a; font-size:0.9rem; line-height:1.4 }
    .producto-footer{ margin-top:auto; display:flex;align-items:center;justify-content:space-between; gap:12px }
    .producto-precio{ color:var(--dorado); font-weight:700; font-size:1.25rem }
    .btn-ver-detalles{
        background:var(--rojo-oscuro);
        color:white;border:none;padding:10px 16px;border-radius:10px;
        cursor:pointer;font-weight:600;transition:transform .18s;
    }
    .btn-ver-detalles:active{ transform:translateY(1px) }

    /* Página de cierre */
    .cierre{
        background:linear-gradient(135deg,var(--verde-bosque),var(--dorado));
        color:white;flex-direction:column;text-align:center;
    }
    .cierre h2{ font-family:'Playfair Display',serif;font-size:2rem;margin-bottom:12px }

    /* Indicadores y controles */
    .page-indicator{
        position:fixed;left:50%;bottom:84px;transform:translateX(-50%);
        background:rgba(6,7,12,0.65);color:white;padding:10px 18px;border-radius:999px;font-weight:600;
        backdrop-filter:blur(6px);z-index:1200;
        box-shadow:0 8px 30px rgba(0,0,0,0.45);
    }

    .controls{
        display:flex;gap:14px;justify-content:center;margin-top:18px;
    }
    .control-btn{
        background:linear-gradient(180deg,var(--dorado),#b88f3e);
        color:#081018;border:none;padding:12px 22px;border-radius:12px;font-weight:700;cursor:pointer;
        box-shadow:0 10px 30px rgba(0,0,0,0.25);transition:transform .18s;
    }
    .control-btn:hover{ transform:translateY(-3px) }

    /* Modal producto (mejorado) */
    .modal{ display:none; position:fixed;inset:0;z-index:1400;background:rgba(4,6,12,0.75);backdrop-filter:blur(6px);padding:28px;overflow:auto }
    .modal-content{ max-width:920px;margin:60px auto;background:white;border-radius:14px;overflow:hidden;box-shadow:0 30px 90px rgba(2,6,23,0.7) }
    .modal-grid{ display:grid;grid-template-columns:1fr 1fr }
    .modal-imagen{ width:100%;height:420px;object-fit:cover;display:block }
    .modal-info{ padding:28px; display:flex;flex-direction:column; gap:12px }
    .modal-nombre{ font-family:'Playfair Display',serif;color:var(--rojo-oscuro);font-size:1.9rem }
    .modal-titulo{ color:var(--verde-bosque);font-weight:600 }
    .modal-precio{ font-size:2rem;color:var(--dorado);font-weight:700;margin-top:6px }
    .modal-botones{ display:flex;gap:12px;margin-top:16px }
    .btn{ padding:12px 18px;border-radius:10px;border:none;cursor:pointer;font-weight:700 }
    .btn-whatsapp{ background:#25D366;color:white;flex:1;text-decoration:none;display:inline-flex;align-items:center;justify-content:center }
    .btn-cerrar{ background:#f0f0f0;color:#333;min-width:140px }

    /* Close big */
    .close-modal{ position:absolute;right:20px;top:18px;color:white;font-size:28px;z-index:1500;cursor:pointer }

    /* Sugerencias táctiles (mobile) */
    .mobile-instructions{ display:none;color:white;text-align:center;margin-top:12px;font-weight:600;opacity:0.9 }

    /* Snow canvas overlay */
    #snow-canvas{ position:fixed;inset:0;z-index:1100;pointer-events:none; mix-blend-mode:screen; opacity:0.95 }

    /* Responsive */
    @media (max-width:1024px){
        #flipbook{ height:560px }
        .portada h1{ font-size:2.4rem }
        .producto-imagen{ height:200px }
    }
    @media (max-width:768px){
        #flipbook{ height:640px; max-width:420px }
        .productos-container{ grid-template-columns:1fr; gap:18px }
        .modal-grid{ grid-template-columns:1fr; }
        .modal-imagen{ height:260px }
        .mobile-instructions{ display:block }
        
        /* OCULTAR la sombra central del libro en móvil */
        #flipbook::before {
            display: none !important;
        }
        
        /* Asegurar que no haya sombras en el contenedor móvil */
        .flipbook-container {
            box-shadow: none !important;
        }
        
        /* Remover cualquier sombra de las páginas individuales en móvil */
        .stf__parent,
        .stf__wrapper,
        .stf__block,
        .stf__item {
            box-shadow: none !important;
        }
        
        /* Remover sombras de páginas específicas */
        .page {
            box-shadow: none !important;
        }
        
        /* Remover cualquier pseudo-elemento que genere sombras */
        #flipbook *::before,
        #flipbook *::after {
            background: none !important;
            box-shadow: none !important;
        }
        
        /* Asegurar que el contenedor sea completamente plano */
        #flipbook,
        #flipbook > * {
            transform: none !important;
            transform-style: flat !important;
        }
    }
    @media (max-width:420px){
        #flipbook{ height:560px; max-width:360px }
        .portada h1{ font-size:1.6rem }
        .portada h2{ font-size:0.95rem }
    }

